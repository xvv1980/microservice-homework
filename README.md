# microservice-homework

### 1. Сравнительная таблица програмных предложений API-GATEWAY

| Products	|Kong	|Tyk	|KrakenD	|Apigee	|AWS Gateway	|Azure Gateway	|Express Gateway
|-----------|-----|-----|---------|-------|------------|--------------|--------------------
| Deployment Complexity	|Single node	|Single node	|Low, single binary	|Many nodes with different roles	|Cloud vendor PaaS	|Cloud vendor PaaS	|Flexible
| Data Stores |Required	Cassandra or Postgres	|Redis	|None	|Cassandra, Zookeeper, and Postgres	|Cloud vendor PaaS	|Cloud vendor PaaS	|Redis
| Open Source	|Yes, Apache 2.0	|Yes, MPL	|Yes, Apache 2.0	|No	|No	|No	|Yes, Apache 2.0
| Core Technology	|NGINX/Lua	|GoLang	|GoLang	|Java	|Not open	|Not open	|Node.js Express
| On Premise	|Yes	|Yes	|Yes	|Yes	|No	|No	|Yes
| Community/Extensions	|Large	|Medium	|Medium	|No	|No	|No	|Small
| Authorization/API Keys	|Yes	|Yes	|Yes	|Yes	|Yes	|Yes	|Yes
| Rate Limiting	|Yes	|Yes	|Yes	|Yes	|Yes	|Yes	|Yes
| Data Transformation	|HTTP	|HTTP	|Extensive, customizable	|Yes	|No	|No	|No
| Integrated Billing	|No	|No	|No	|Yes	|No	|No	|No

Обоснование:

   Так как предполагается что выбор нужно сделать для крупной компании, то можем условиться, что в этом случае у нас имеется продукт обрабатывающий большой поток запросов, а также есть отдел с разработчиками.

   Для сравнения возьмем ряд самых распространеных продуктов: Kong, Tyk, KrakenD, Apigee, Aws Gateway, Azure Gateway Express Gateway.

   В списке есть облачные решения, в нашем случае можно их не рассматривать, по причине того, что облачное решение может вносить некие задержки в ответы на запросы(например на сетевом уровне), для нас это критично, а так же может произойти деградация сервиса по причинам сбоя у поставщика услуги api-gateway/

   Так как мы ищем высокпроизволительное решение, то из оставшихся Kong, Tyk, KrakenD, Apigee  самый подходящий продукт - KrakenD. KrakenD может похвастаться впечатляющими показателями производительности, способными обрабатывать более 70 000 запросов в секунду на стандартном оборудовании, что подчеркивает его эффективность и масштабируемость. 

   Так же не маловажен вопрос расширения функционала. Tyk и Krakend написаны на Golang, плагины к ним пишутся на Go. Имея штат программистов с компетенциями в Go мы открываем безграничные возможности для расширения функционала при необходимости.
  
   Kong — это Lua‑приложение, которое крутится на nginx. И основной инструмент его расширения поэтому - Lua плагины. Хоть и есть варианты написания плагинов на Go, JS, Python, но у них есть особенности имплементации, которые приводят к потере производительности. Так что Kong мы убираем из рассмотрения.

   Apigee - не имеет открытого исходного кода, сложен в установке. Apigee Edge требует запуска минимум 9 узлов локально и включает запуск Cassandra, Zookeeper и Postgres

  KrakenD поддердивает все требования:
  
   -- маршрутизация запросов к нужному сервису на основе конфигурации,
  
   -- возможность проверки аутентификационной информации в запросах,
   
   -- обеспечение терминации HTTPS.


   <b>Мой выбор : KRAKEND</b>
   
### 1. Сравнительная таблица програмных предложений брокера сообщений.

Решение должно соответствовать следующим требованиям:

    поддержка кластеризации для обеспечения надёжности,
    хранение сообщений на диске в процессе доставки,
    высокая скорость работы,
    поддержка различных форматов сообщений,
    разделение прав доступа к различным потокам сообщений,
    простота эксплуатации.
Apache Kafka и RabbitMQ
	

|                   |RabbitMQ           | Apache Kafka
|-------------------|------------------------------------------------|-------------------
|Производительность  |От 4000 до 10 000 сообщений в секунду| 1 миллион сообщений в секунду
|Хранение сообщений  | На основе подтверждения| На основе политик (например, 30 дней)
|Тип данных|Транзакционные данные|Операционные данные
|Режим работы консьюмера|Умный брокер/тупой консьюмер|Тупой брокер/умный консьюмер
|Топология|Обмен: прямой, Fan out, топик, на основе заголовков|Основана на системе Publish/Subscribe
|Размер полезных данных|Без ограничений|По умолчанию – ограничение в 1 МБ
|Примеры применения|Простые случаи| Массовая обработка данных/высокопроизводительная передача данных
